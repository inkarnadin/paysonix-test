# Paysonix test challenge

## Задание

Создать spring boot 2 приложение: 

В нём реализовать метод в rest-контроллере, принимающий на вход: 
1) operationId, являющийся частью урла запроса
2) параметры post-запроса, прилетающие с некой html-формы
3) в ответ отдать json-объект вида:

{
  "status": "success",
  "result": [
    {
      "signature": "signature_value",
    }
  ]
}

, где signature_value - Hmac SHA256 hash от строки вида:

name1=value1&name2=value2...

, где nameN=valueN - полученные из запроса имя и значение параметров формы, отсортированных по имени параметра

В приложении реализовать предобработку для данного контроллера, проверяющую, что в http-заголовках запроса есть заголовок Token со значением, равным значению настройки из конфига. 
При отсутствии данного http-заголовка или другом его значении выдавать 403 http-код.

## Решение

Ввиду отсутствия четких требований к решению были использованы некоторые допущения - названия и пути были выбраны на собственное усмотрение,
не писались тесты, не писалась документация, оптимизация и стилизация, опущены всевозможные архитектурные особенности, не относящие к сути задания.

Решение представлено скорее в концептуальном виде, нежели в рабочем.
 
В конфигурации приложения был добавлен ключ шифрования для алгоритма `HmacSHA256`, а также список допустимых значений параметров, 
зашифрованных с использованием данного ключа:

* для параметров param1=1&param2=2&param0=1 - `d6c44c43c4283b650396b16418d4c1d4af60d2108c169db1e6243ee0e73ff929`
* для параметров param1=1&param2=2&param0=4 - `7d4ac90691e479162844d0983912db78baf3dac74dd868e1f50a9ccce44a6aed`
 
Для проверки работоспособности решения можно использовать запросы вида:

* Для запроса ниже должен приходить корректный ответ, описанный в задании:  
curl --request POST 'http://localhost:8080/do' --header 'Content-Type: text/plain' --data-raw 'param1=1&param2=2&param0=4'

* Для запроса ниже (и прочих запросов, не указанных выше) должен приходить статус 403:  
curl --request POST 'http://localhost:8080/do' --header 'Content-Type: text/plain' --data-raw 'param1=1&param2=2&param0=49'